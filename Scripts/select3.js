!function (n) { void 0 === n.fn.each2 && n.extend(n.fn, { each2: function (e) { for (var t = n([0]), s = -1, i = this.length; ++s < i && (t.context = t[0] = this[s]) && !1 !== e.call(t[0], s, t);); return this } }) }(jQuery), function (w, v) { "use strict"; function a(e) { var t = w(document.createTextNode("")); e.before(t), t.before(e), t.remove() } function o(e) { return e.replace(/[^\u0000-\u007E]/g, function (e) { return k[e] || e }) } function c(e, t) { for (var s = 0, i = t.length; s < i; s += 1)if (u(e, t[s])) return s; return -1 } function u(e, t) { return e === t || e !== v && t !== v && (null !== e && null !== t && (e.constructor === String ? e + "" == t + "" : t.constructor === String && t + "" == e + "")) } function n(e, t, s) { var i, n, o; if (null === e || e.length < 1) return []; for (n = 0, o = (i = e.split(t)).length; n < o; n += 1)i[n] = s(i[n]); return i } function l(e) { return e.outerWidth(!1) - e.width() } function r(t) { var s = "keyup-change-value"; t.on("keydown", function () { w.data(t, s) === v && w.data(t, s, t.val()) }), t.on("keyup", function () { var e = w.data(t, s); e !== v && t.val() !== e && (w.removeData(t, s), t.trigger("keyup-change")) }) } function h(t, s, i) { var n; return i = i || v, function () { var e = arguments; window.clearTimeout(n), n = window.setTimeout(function () { s.apply(i, e) }, t) } } function d(e) { e.preventDefault(), e.stopPropagation() } function p(e, t, s) { var i, n = [], o = w.trim(e.attr("class")); o && w((o = "" + o).split(/\s+/)).each2(function () { 0 === this.indexOf("select3-") && n.push(this) }), (o = w.trim(t.attr("class"))) && w((o = "" + o).split(/\s+/)).each2(function () { 0 !== this.indexOf("select3-") && ((i = s(this)) && n.push(i)) }), e.attr("class", n.join(" ")) } function f(e, t, s, i) { var n = o(e.toUpperCase()).indexOf(o(t.toUpperCase())), t = t.length; return n < 0 ? void s.push(i(e)) : (s.push(i(e.substring(0, n))), s.push("<span class='select3-match'>"), s.push(i(e.substring(n, n + t))), s.push("</span>"), void s.push(i(e.substring(n + t, e.length)))) } function e(e) { var t = { "\\": "&#92;", "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;", "/": "&#47;" }; return String(e).replace(/[&<>"'\/\\]/g, function (e) { return t[e] }) } function i(o) { var e, a = null, t = o.quietMillis || 100, l = o.url, c = this; return function (n) { window.clearTimeout(e), e = window.setTimeout(function () { var e = o.data, t = l, s = o.transport || w.fn.select3.ajaxDefaults.transport, i = { type: o.type || "GET", cache: o.cache || !1, jsonpCallback: o.jsonpCallback || v, dataType: o.dataType || "json" }, i = w.extend({}, w.fn.select3.ajaxDefaults.params, i), e = e ? e.call(c, n.term, n.page, n.context) : null, t = "function" == typeof t ? t.call(c, n.term, n.page, n.context) : t; a && "function" == typeof a.abort && a.abort(), o.params && (w.isFunction(o.params) ? w.extend(i, o.params.call(c)) : w.extend(i, o.params)), w.extend(i, { url: t, dataType: o.dataType, data: e, success: function (e) { e = o.results(e, n.page, n); n.callback(e) }, error: function (e, t, s) { s = { hasError: !0, jqXHR: e, textStatus: t, errorThrown: s }; n.callback(s) } }), a = s.call(c, i) }, t) } } function b(e) { var t, s, i = e, l = function (e) { return "" + e.text }; w.isArray(i) && (i = { results: s = i }), !1 === w.isFunction(i) && (s = i, i = function () { return s }); e = i(); return e.text && (l = e.text, w.isFunction(l) || (t = e.text, l = function (e) { return e[t] })), function (n) { var o, a = n.term, s = { results: [] }; return "" === a ? void n.callback(i()) : (o = function (e, t) { var s, i; if ((e = e[0]).children) { for (i in s = {}, e) e.hasOwnProperty(i) && (s[i] = e[i]); s.children = [], w(e.children).each2(function (e, t) { o(t, s.children) }), (s.children.length || n.matcher(a, l(s), e)) && t.push(s) } else n.matcher(a, l(e), e) && t.push(e) }, w(i().results).each2(function (e, t) { o(t, s.results) }), void n.callback(s)) } } function C(t) { var o = w.isFunction(t); return function (s) { var i = s.term, n = { results: [] }, e = o ? t(s) : t; w.isArray(e) && (w(e).each(function () { var e = this.text !== v, t = e ? this.text : this; "" !== i && !s.matcher(i, t) || n.results.push(e ? this : { id: this, text: this }) }), s.callback(n)) } } function g(e, t) { if (w.isFunction(e)) return 1; if (e) { if ("string" == typeof e) return 1; throw new Error(t + " must be a string, function, or falsy value") } } function S(e, t) { if (w.isFunction(e)) { var s = Array.prototype.slice.call(arguments, 2); return e.apply(t, s) } return e } function m() { var s = this; w.each(arguments, function (e, t) { s[t].remove(), s[t] = null }) } function t(e, t) { function s() { } return ((s.prototype = new e).constructor = s).prototype.parent = e.prototype, s.prototype = w.extend(s.prototype, t), s } var s, y, x, T, E, O, I, P, k, R, A; window.select3 === v && (I = { x: 0, y: 0 }, P = { TAB: 9, ENTER: 13, ESC: 27, SPACE: 32, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, SHIFT: 16, CTRL: 17, ALT: 18, PAGE_UP: 33, PAGE_DOWN: 34, HOME: 36, END: 35, BACKSPACE: 8, DELETE: 46, isArrow: function (e) { switch (e = e.which || e) { case P.LEFT: case P.RIGHT: case P.UP: case P.DOWN: return !0 }return !1 }, isControl: function (e) { switch (e.which) { case P.SHIFT: case P.CTRL: case P.ALT: return !0 }return !!e.metaKey }, isFunctionKey: function (e) { return 112 <= (e = e.which || e) && e <= 123 } }, k = { "Ⓐ": "A", "Ａ": "A", "À": "A", "Á": "A", "Â": "A", "Ầ": "A", "Ấ": "A", "Ẫ": "A", "Ẩ": "A", "Ã": "A", "Ā": "A", "Ă": "A", "Ằ": "A", "Ắ": "A", "Ẵ": "A", "Ẳ": "A", "Ȧ": "A", "Ǡ": "A", "Ä": "A", "Ǟ": "A", "Ả": "A", "Å": "A", "Ǻ": "A", "Ǎ": "A", "Ȁ": "A", "Ȃ": "A", "Ạ": "A", "Ậ": "A", "Ặ": "A", "Ḁ": "A", "Ą": "A", "Ⱥ": "A", "Ɐ": "A", "Ꜳ": "AA", "Æ": "AE", "Ǽ": "AE", "Ǣ": "AE", "Ꜵ": "AO", "Ꜷ": "AU", "Ꜹ": "AV", "Ꜻ": "AV", "Ꜽ": "AY", "Ⓑ": "B", "Ｂ": "B", "Ḃ": "B", "Ḅ": "B", "Ḇ": "B", "Ƀ": "B", "Ƃ": "B", "Ɓ": "B", "Ⓒ": "C", "Ｃ": "C", "Ć": "C", "Ĉ": "C", "Ċ": "C", "Č": "C", "Ç": "C", "Ḉ": "C", "Ƈ": "C", "Ȼ": "C", "Ꜿ": "C", "Ⓓ": "D", "Ｄ": "D", "Ḋ": "D", "Ď": "D", "Ḍ": "D", "Ḑ": "D", "Ḓ": "D", "Ḏ": "D", "Đ": "D", "Ƌ": "D", "Ɗ": "D", "Ɖ": "D", "Ꝺ": "D", "Ǳ": "DZ", "Ǆ": "DZ", "ǲ": "Dz", "ǅ": "Dz", "Ⓔ": "E", "Ｅ": "E", "È": "E", "É": "E", "Ê": "E", "Ề": "E", "Ế": "E", "Ễ": "E", "Ể": "E", "Ẽ": "E", "Ē": "E", "Ḕ": "E", "Ḗ": "E", "Ĕ": "E", "Ė": "E", "Ë": "E", "Ẻ": "E", "Ě": "E", "Ȅ": "E", "Ȇ": "E", "Ẹ": "E", "Ệ": "E", "Ȩ": "E", "Ḝ": "E", "Ę": "E", "Ḙ": "E", "Ḛ": "E", "Ɛ": "E", "Ǝ": "E", "Ⓕ": "F", "Ｆ": "F", "Ḟ": "F", "Ƒ": "F", "Ꝼ": "F", "Ⓖ": "G", "Ｇ": "G", "Ǵ": "G", "Ĝ": "G", "Ḡ": "G", "Ğ": "G", "Ġ": "G", "Ǧ": "G", "Ģ": "G", "Ǥ": "G", "Ɠ": "G", "Ꞡ": "G", "Ᵹ": "G", "Ꝿ": "G", "Ⓗ": "H", "Ｈ": "H", "Ĥ": "H", "Ḣ": "H", "Ḧ": "H", "Ȟ": "H", "Ḥ": "H", "Ḩ": "H", "Ḫ": "H", "Ħ": "H", "Ⱨ": "H", "Ⱶ": "H", "Ɥ": "H", "Ⓘ": "I", "Ｉ": "I", "Ì": "I", "Í": "I", "Î": "I", "Ĩ": "I", "Ī": "I", "Ĭ": "I", "İ": "I", "Ï": "I", "Ḯ": "I", "Ỉ": "I", "Ǐ": "I", "Ȉ": "I", "Ȋ": "I", "Ị": "I", "Į": "I", "Ḭ": "I", "Ɨ": "I", "Ⓙ": "J", "Ｊ": "J", "Ĵ": "J", "Ɉ": "J", "Ⓚ": "K", "Ｋ": "K", "Ḱ": "K", "Ǩ": "K", "Ḳ": "K", "Ķ": "K", "Ḵ": "K", "Ƙ": "K", "Ⱪ": "K", "Ꝁ": "K", "Ꝃ": "K", "Ꝅ": "K", "Ꞣ": "K", "Ⓛ": "L", "Ｌ": "L", "Ŀ": "L", "Ĺ": "L", "Ľ": "L", "Ḷ": "L", "Ḹ": "L", "Ļ": "L", "Ḽ": "L", "Ḻ": "L", "Ł": "L", "Ƚ": "L", "Ɫ": "L", "Ⱡ": "L", "Ꝉ": "L", "Ꝇ": "L", "Ꞁ": "L", "Ǉ": "LJ", "ǈ": "Lj", "Ⓜ": "M", "Ｍ": "M", "Ḿ": "M", "Ṁ": "M", "Ṃ": "M", "Ɱ": "M", "Ɯ": "M", "Ⓝ": "N", "Ｎ": "N", "Ǹ": "N", "Ń": "N", "Ñ": "N", "Ṅ": "N", "Ň": "N", "Ṇ": "N", "Ņ": "N", "Ṋ": "N", "Ṉ": "N", "Ƞ": "N", "Ɲ": "N", "Ꞑ": "N", "Ꞥ": "N", "Ǌ": "NJ", "ǋ": "Nj", "Ⓞ": "O", "Ｏ": "O", "Ò": "O", "Ó": "O", "Ô": "O", "Ồ": "O", "Ố": "O", "Ỗ": "O", "Ổ": "O", "Õ": "O", "Ṍ": "O", "Ȭ": "O", "Ṏ": "O", "Ō": "O", "Ṑ": "O", "Ṓ": "O", "Ŏ": "O", "Ȯ": "O", "Ȱ": "O", "Ö": "O", "Ȫ": "O", "Ỏ": "O", "Ő": "O", "Ǒ": "O", "Ȍ": "O", "Ȏ": "O", "Ơ": "O", "Ờ": "O", "Ớ": "O", "Ỡ": "O", "Ở": "O", "Ợ": "O", "Ọ": "O", "Ộ": "O", "Ǫ": "O", "Ǭ": "O", "Ø": "O", "Ǿ": "O", "Ɔ": "O", "Ɵ": "O", "Ꝋ": "O", "Ꝍ": "O", "Ƣ": "OI", "Ꝏ": "OO", "Ȣ": "OU", "Ⓟ": "P", "Ｐ": "P", "Ṕ": "P", "Ṗ": "P", "Ƥ": "P", "Ᵽ": "P", "Ꝑ": "P", "Ꝓ": "P", "Ꝕ": "P", "Ⓠ": "Q", "Ｑ": "Q", "Ꝗ": "Q", "Ꝙ": "Q", "Ɋ": "Q", "Ⓡ": "R", "Ｒ": "R", "Ŕ": "R", "Ṙ": "R", "Ř": "R", "Ȑ": "R", "Ȓ": "R", "Ṛ": "R", "Ṝ": "R", "Ŗ": "R", "Ṟ": "R", "Ɍ": "R", "Ɽ": "R", "Ꝛ": "R", "Ꞧ": "R", "Ꞃ": "R", "Ⓢ": "S", "Ｓ": "S", "ẞ": "S", "Ś": "S", "Ṥ": "S", "Ŝ": "S", "Ṡ": "S", "Š": "S", "Ṧ": "S", "Ṣ": "S", "Ṩ": "S", "Ș": "S", "Ş": "S", "Ȿ": "S", "Ꞩ": "S", "Ꞅ": "S", "Ⓣ": "T", "Ｔ": "T", "Ṫ": "T", "Ť": "T", "Ṭ": "T", "Ț": "T", "Ţ": "T", "Ṱ": "T", "Ṯ": "T", "Ŧ": "T", "Ƭ": "T", "Ʈ": "T", "Ⱦ": "T", "Ꞇ": "T", "Ꜩ": "TZ", "Ⓤ": "U", "Ｕ": "U", "Ù": "U", "Ú": "U", "Û": "U", "Ũ": "U", "Ṹ": "U", "Ū": "U", "Ṻ": "U", "Ŭ": "U", "Ü": "U", "Ǜ": "U", "Ǘ": "U", "Ǖ": "U", "Ǚ": "U", "Ủ": "U", "Ů": "U", "Ű": "U", "Ǔ": "U", "Ȕ": "U", "Ȗ": "U", "Ư": "U", "Ừ": "U", "Ứ": "U", "Ữ": "U", "Ử": "U", "Ự": "U", "Ụ": "U", "Ṳ": "U", "Ų": "U", "Ṷ": "U", "Ṵ": "U", "Ʉ": "U", "Ⓥ": "V", "Ｖ": "V", "Ṽ": "V", "Ṿ": "V", "Ʋ": "V", "Ꝟ": "V", "Ʌ": "V", "Ꝡ": "VY", "Ⓦ": "W", "Ｗ": "W", "Ẁ": "W", "Ẃ": "W", "Ŵ": "W", "Ẇ": "W", "Ẅ": "W", "Ẉ": "W", "Ⱳ": "W", "Ⓧ": "X", "Ｘ": "X", "Ẋ": "X", "Ẍ": "X", "Ⓨ": "Y", "Ｙ": "Y", "Ỳ": "Y", "Ý": "Y", "Ŷ": "Y", "Ỹ": "Y", "Ȳ": "Y", "Ẏ": "Y", "Ÿ": "Y", "Ỷ": "Y", "Ỵ": "Y", "Ƴ": "Y", "Ɏ": "Y", "Ỿ": "Y", "Ⓩ": "Z", "Ｚ": "Z", "Ź": "Z", "Ẑ": "Z", "Ż": "Z", "Ž": "Z", "Ẓ": "Z", "Ẕ": "Z", "Ƶ": "Z", "Ȥ": "Z", "Ɀ": "Z", "Ⱬ": "Z", "Ꝣ": "Z", "ⓐ": "a", "ａ": "a", "ẚ": "a", "à": "a", "á": "a", "â": "a", "ầ": "a", "ấ": "a", "ẫ": "a", "ẩ": "a", "ã": "a", "ā": "a", "ă": "a", "ằ": "a", "ắ": "a", "ẵ": "a", "ẳ": "a", "ȧ": "a", "ǡ": "a", "ä": "a", "ǟ": "a", "ả": "a", "å": "a", "ǻ": "a", "ǎ": "a", "ȁ": "a", "ȃ": "a", "ạ": "a", "ậ": "a", "ặ": "a", "ḁ": "a", "ą": "a", "ⱥ": "a", "ɐ": "a", "ꜳ": "aa", "æ": "ae", "ǽ": "ae", "ǣ": "ae", "ꜵ": "ao", "ꜷ": "au", "ꜹ": "av", "ꜻ": "av", "ꜽ": "ay", "ⓑ": "b", "ｂ": "b", "ḃ": "b", "ḅ": "b", "ḇ": "b", "ƀ": "b", "ƃ": "b", "ɓ": "b", "ⓒ": "c", "ｃ": "c", "ć": "c", "ĉ": "c", "ċ": "c", "č": "c", "ç": "c", "ḉ": "c", "ƈ": "c", "ȼ": "c", "ꜿ": "c", "ↄ": "c", "ⓓ": "d", "ｄ": "d", "ḋ": "d", "ď": "d", "ḍ": "d", "ḑ": "d", "ḓ": "d", "ḏ": "d", "đ": "d", "ƌ": "d", "ɖ": "d", "ɗ": "d", "ꝺ": "d", "ǳ": "dz", "ǆ": "dz", "ⓔ": "e", "ｅ": "e", "è": "e", "é": "e", "ê": "e", "ề": "e", "ế": "e", "ễ": "e", "ể": "e", "ẽ": "e", "ē": "e", "ḕ": "e", "ḗ": "e", "ĕ": "e", "ė": "e", "ë": "e", "ẻ": "e", "ě": "e", "ȅ": "e", "ȇ": "e", "ẹ": "e", "ệ": "e", "ȩ": "e", "ḝ": "e", "ę": "e", "ḙ": "e", "ḛ": "e", "ɇ": "e", "ɛ": "e", "ǝ": "e", "ⓕ": "f", "ｆ": "f", "ḟ": "f", "ƒ": "f", "ꝼ": "f", "ⓖ": "g", "ｇ": "g", "ǵ": "g", "ĝ": "g", "ḡ": "g", "ğ": "g", "ġ": "g", "ǧ": "g", "ģ": "g", "ǥ": "g", "ɠ": "g", "ꞡ": "g", "ᵹ": "g", "ꝿ": "g", "ⓗ": "h", "ｈ": "h", "ĥ": "h", "ḣ": "h", "ḧ": "h", "ȟ": "h", "ḥ": "h", "ḩ": "h", "ḫ": "h", "ẖ": "h", "ħ": "h", "ⱨ": "h", "ⱶ": "h", "ɥ": "h", "ƕ": "hv", "ⓘ": "i", "ｉ": "i", "ì": "i", "í": "i", "î": "i", "ĩ": "i", "ī": "i", "ĭ": "i", "ï": "i", "ḯ": "i", "ỉ": "i", "ǐ": "i", "ȉ": "i", "ȋ": "i", "ị": "i", "į": "i", "ḭ": "i", "ɨ": "i", "ı": "i", "ⓙ": "j", "ｊ": "j", "ĵ": "j", "ǰ": "j", "ɉ": "j", "ⓚ": "k", "ｋ": "k", "ḱ": "k", "ǩ": "k", "ḳ": "k", "ķ": "k", "ḵ": "k", "ƙ": "k", "ⱪ": "k", "ꝁ": "k", "ꝃ": "k", "ꝅ": "k", "ꞣ": "k", "ⓛ": "l", "ｌ": "l", "ŀ": "l", "ĺ": "l", "ľ": "l", "ḷ": "l", "ḹ": "l", "ļ": "l", "ḽ": "l", "ḻ": "l", "ſ": "l", "ł": "l", "ƚ": "l", "ɫ": "l", "ⱡ": "l", "ꝉ": "l", "ꞁ": "l", "ꝇ": "l", "ǉ": "lj", "ⓜ": "m", "ｍ": "m", "ḿ": "m", "ṁ": "m", "ṃ": "m", "ɱ": "m", "ɯ": "m", "ⓝ": "n", "ｎ": "n", "ǹ": "n", "ń": "n", "ñ": "n", "ṅ": "n", "ň": "n", "ṇ": "n", "ņ": "n", "ṋ": "n", "ṉ": "n", "ƞ": "n", "ɲ": "n", "ŉ": "n", "ꞑ": "n", "ꞥ": "n", "ǌ": "nj", "ⓞ": "o", "ｏ": "o", "ò": "o", "ó": "o", "ô": "o", "ồ": "o", "ố": "o", "ỗ": "o", "ổ": "o", "õ": "o", "ṍ": "o", "ȭ": "o", "ṏ": "o", "ō": "o", "ṑ": "o", "ṓ": "o", "ŏ": "o", "ȯ": "o", "ȱ": "o", "ö": "o", "ȫ": "o", "ỏ": "o", "ő": "o", "ǒ": "o", "ȍ": "o", "ȏ": "o", "ơ": "o", "ờ": "o", "ớ": "o", "ỡ": "o", "ở": "o", "ợ": "o", "ọ": "o", "ộ": "o", "ǫ": "o", "ǭ": "o", "ø": "o", "ǿ": "o", "ɔ": "o", "ꝋ": "o", "ꝍ": "o", "ɵ": "o", "ƣ": "oi", "ȣ": "ou", "ꝏ": "oo", "ⓟ": "p", "ｐ": "p", "ṕ": "p", "ṗ": "p", "ƥ": "p", "ᵽ": "p", "ꝑ": "p", "ꝓ": "p", "ꝕ": "p", "ⓠ": "q", "ｑ": "q", "ɋ": "q", "ꝗ": "q", "ꝙ": "q", "ⓡ": "r", "ｒ": "r", "ŕ": "r", "ṙ": "r", "ř": "r", "ȑ": "r", "ȓ": "r", "ṛ": "r", "ṝ": "r", "ŗ": "r", "ṟ": "r", "ɍ": "r", "ɽ": "r", "ꝛ": "r", "ꞧ": "r", "ꞃ": "r", "ⓢ": "s", "ｓ": "s", "ß": "s", "ś": "s", "ṥ": "s", "ŝ": "s", "ṡ": "s", "š": "s", "ṧ": "s", "ṣ": "s", "ṩ": "s", "ș": "s", "ş": "s", "ȿ": "s", "ꞩ": "s", "ꞅ": "s", "ẛ": "s", "ⓣ": "t", "ｔ": "t", "ṫ": "t", "ẗ": "t", "ť": "t", "ṭ": "t", "ț": "t", "ţ": "t", "ṱ": "t", "ṯ": "t", "ŧ": "t", "ƭ": "t", "ʈ": "t", "ⱦ": "t", "ꞇ": "t", "ꜩ": "tz", "ⓤ": "u", "ｕ": "u", "ù": "u", "ú": "u", "û": "u", "ũ": "u", "ṹ": "u", "ū": "u", "ṻ": "u", "ŭ": "u", "ü": "u", "ǜ": "u", "ǘ": "u", "ǖ": "u", "ǚ": "u", "ủ": "u", "ů": "u", "ű": "u", "ǔ": "u", "ȕ": "u", "ȗ": "u", "ư": "u", "ừ": "u", "ứ": "u", "ữ": "u", "ử": "u", "ự": "u", "ụ": "u", "ṳ": "u", "ų": "u", "ṷ": "u", "ṵ": "u", "ʉ": "u", "ⓥ": "v", "ｖ": "v", "ṽ": "v", "ṿ": "v", "ʋ": "v", "ꝟ": "v", "ʌ": "v", "ꝡ": "vy", "ⓦ": "w", "ｗ": "w", "ẁ": "w", "ẃ": "w", "ŵ": "w", "ẇ": "w", "ẅ": "w", "ẘ": "w", "ẉ": "w", "ⱳ": "w", "ⓧ": "x", "ｘ": "x", "ẋ": "x", "ẍ": "x", "ⓨ": "y", "ｙ": "y", "ỳ": "y", "ý": "y", "ŷ": "y", "ỹ": "y", "ȳ": "y", "ẏ": "y", "ÿ": "y", "ỷ": "y", "ẙ": "y", "ỵ": "y", "ƴ": "y", "ɏ": "y", "ỿ": "y", "ⓩ": "z", "ｚ": "z", "ź": "z", "ẑ": "z", "ż": "z", "ž": "z", "ẓ": "z", "ẕ": "z", "ƶ": "z", "ȥ": "z", "ɀ": "z", "ⱬ": "z", "ꝣ": "z", "Ά": "Α", "Έ": "Ε", "Ή": "Η", "Ί": "Ι", "Ϊ": "Ι", "Ό": "Ο", "Ύ": "Υ", "Ϋ": "Υ", "Ώ": "Ω", "ά": "α", "έ": "ε", "ή": "η", "ί": "ι", "ϊ": "ι", "ΐ": "ι", "ό": "ο", "ύ": "υ", "ϋ": "υ", "ΰ": "υ", "ω": "ω", "ς": "σ" }, R = w(document), A = 1, T = function () { return A++ }, s = t(Object, { bind: function (e) { var t = this; return function () { e.apply(t, arguments) } }, init: function (e) { var o, t, s, i, n, a = ".select3-results"; this.opts = e = this.prepareOpts(e), this.id = e.id, e.element.data("select3") !== v && null !== e.element.data("select3") && e.element.data("select3").destroy(), this.container = this.createContainer(), this.liveRegion = w(".select3-hidden-accessible"), 0 == this.liveRegion.length && (this.liveRegion = w("<span>", { role: "status", "aria-live": "polite" }).addClass("select3-hidden-accessible").appendTo(document.body)), this.containerId = "s2id_" + (e.element.attr("id") || "autogen" + T()), this.containerEventName = this.containerId.replace(/([.])/g, "_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g, "\\$1"), this.container.attr("id", this.containerId), this.container.attr("title", e.element.attr("title")), this.body = w(document.body), p(this.container, this.opts.element, this.opts.adaptContainerCssClass), this.container.attr("style", e.element.attr("style")), this.container.css(S(e.containerCss, this.opts.element)), this.container.addClass(S(e.containerCssClass, this.opts.element)), this.elementTabIndex = this.opts.element.attr("tabindex"), this.opts.element.data("select3", this).attr("tabindex", "-1").before(this.container).on("click.select3", d), this.container.data("select3", this), this.dropdown = this.container.find(".select3-drop"), p(this.dropdown, this.opts.element, this.opts.adaptDropdownCssClass), this.dropdown.addClass(S(e.dropdownCssClass, this.opts.element)), this.dropdown.data("select3", this), this.dropdown.on("click", d), this.results = o = this.container.find(a), this.search = t = this.container.find("input.select3-input"), this.queryCount = 0, this.resultsPage = 0, this.context = null, this.initContainer(), this.container.on("click", d), this.results.on("mousemove", function (e) { I !== v && I.x === e.pageX && I.y === e.pageY || w(e.target).trigger("mousemove-filtered", e) }), this.dropdown.on("mousemove-filtered", a, this.bind(this.highlightUnderEvent)), this.dropdown.on("touchstart touchmove touchend", a, this.bind(function (e) { this._touchEvent = !0, this.highlightUnderEvent(e) })), this.dropdown.on("touchmove", a, this.bind(this.touchMoved)), this.dropdown.on("touchstart touchend", a, this.bind(this.clearTouchMoved)), this.dropdown.on("click", this.bind(function (e) { this._touchEvent && (this._touchEvent = !1, this.selectHighlighted()) })), s = 80, i = this.results, n = h(s, function (e) { i.trigger("scroll-debounced", e) }), i.on("scroll", function (e) { 0 <= c(e.target, i.get()) && n(e) }), this.dropdown.on("scroll-debounced", a, this.bind(this.loadMoreIfNeeded)), w(this.container).on("change", ".select3-input", function (e) { e.stopPropagation() }), w(this.dropdown).on("change", ".select3-input", function (e) { e.stopPropagation() }), w.fn.mousewheel && o.mousewheel(function (e, t, s, i) { var n = o.scrollTop(); 0 < i && n - i <= 0 ? (o.scrollTop(0), d(e)) : i < 0 && o.get(0).scrollHeight - o.scrollTop() + i <= o.height() && (o.scrollTop(o.get(0).scrollHeight - o.height()), d(e)) }), r(t), t.on("keyup-change input paste", this.bind(this.updateResults)), t.on("focus", function () { t.addClass("select3-focused") }), t.on("blur", function () { t.removeClass("select3-focused") }), this.dropdown.on("mouseup", a, this.bind(function (e) { 0 < w(e.target).closest(".select3-result-selectable").length && (this.highlightUnderEvent(e), this.selectHighlighted(e)) })), this.dropdown.on("click mouseup mousedown touchstart touchend focusin", function (e) { e.stopPropagation() }), this.lastSearchTerm = v, w.isFunction(this.opts.initSelection) && (this.initSelection(), this.monitorSource()), null !== e.maximumInputLength && this.search.attr("maxlength", e.maximumInputLength); a = e.element.prop("disabled"); a === v && (a = !1), this.enable(!a); a = e.element.prop("readonly"); a === v && (a = !1), this.readonly(a), O = O || function () { var e = w("<div class='select3-measure-scrollbar'></div>"); e.appendTo(document.body); var t = { width: e.width() - e[0].clientWidth, height: e.height() - e[0].clientHeight }; return e.remove(), t }(), this.autofocus = e.element.prop("autofocus"), e.element.prop("autofocus", !1), this.autofocus && this.focus(), this.search.attr("placeholder", e.searchInputPlaceholder) }, destroy: function () { var e = this.opts.element, t = e.data("select3"), s = this; this.close(), e.length && e[0].detachEvent && s._sync && e.each(function () { s._sync && this.detachEvent("onpropertychange", s._sync) }), this.propertyObserver && (this.propertyObserver.disconnect(), this.propertyObserver = null), this._sync = null, t !== v && (t.container.remove(), t.liveRegion.remove(), t.dropdown.remove(), e.removeData("select3").off(".select3"), e.is("input[type='hidden']") ? e.css("display", "") : (e.show().prop("autofocus", this.autofocus || !1), this.elementTabIndex ? e.attr({ tabindex: this.elementTabIndex }) : e.removeAttr("tabindex"), e.show())), m.call(this, "container", "liveRegion", "dropdown", "results", "search") }, optionToData: function (e) { return e.is("option") ? { id: e.prop("value"), text: e.text(), element: e.get(), css: e.attr("class"), disabled: e.prop("disabled"), locked: u(e.attr("locked"), "locked") || u(e.data("locked"), !0) } : e.is("optgroup") ? { text: e.attr("label"), children: [], element: e.get(), css: e.attr("class") } : void 0 }, prepareOpts: function (g) { var t, e, a, s, m = this; if ("select" === (a = g.element).get(0).tagName.toLowerCase() && (this.select = e = g.element), e && w.each(["id", "multiple", "ajax", "query", "createSearchChoice", "initSelection", "data", "tags"], function () { if (this in g) throw new Error("Option '" + this + "' is not allowed for select3 when attached to a <select> element.") }), g.debug = g.debug || w.fn.select3.defaults.debug, g.debug && console && console.warn && (null != g.id && console.warn("select3: The `id` option has been removed in select3 4.0.0, consider renaming your `id` property or mapping the property before your data makes it to select3. You can read more at https://select3.github.io/announcements-4.0.html#changed-id"), null != g.text && console.warn("select3: The `text` option has been removed in select3 4.0.0, consider renaming your `text` property or mapping the property before your data makes it to select3. You can read more at https://select3.github.io/announcements-4.0.html#changed-id"), null != g.sortResults && console.warn("select3: the `sortResults` option has been renamed to `sorter` in select3 4.0.0. "), null != g.selectOnBlur && console.warn("select3: The `selectOnBlur` option has been renamed to `selectOnClose` in select3 4.0.0."), null != g.ajax && null != g.ajax.results && console.warn("select3: The `ajax.results` option has been renamed to `ajax.processResults` in select3 4.0.0."), null != g.formatNoResults && console.warn("select3: The `formatNoResults` option has been renamed to `language.noResults` in select3 4.0.0."), null != g.formatSearching && console.warn("select3: The `formatSearching` option has been renamed to `language.searching` in select3 4.0.0."), null != g.formatInputTooShort && console.warn("select3: The `formatInputTooShort` option has been renamed to `language.inputTooShort` in select3 4.0.0."), null != g.formatInputTooLong && console.warn("select3: The `formatInputTooLong` option has been renamed to `language.inputTooLong` in select3 4.0.0."), null != g.formatLoading && console.warn("select3: The `formatLoading` option has been renamed to `language.loadingMore` in select3 4.0.0."), null != g.formatSelectionTooBig && console.warn("select3: The `formatSelectionTooBig` option has been renamed to `language.maximumSelected` in select3 4.0.0."), g.element.data("select3Tags") && console.warn("select3: The `data-select3-tags` attribute has been renamed to `data-tags` in select3 4.0.0.")), null != g.element.data("tags") && (s = g.element.data("tags"), w.isArray(s) || (s = []), g.element.data("select3Tags", s)), null != g.sorter && (g.sortResults = g.sorter), null != g.selectOnClose && (g.selectOnBlur = g.selectOnClose), null != g.ajax && w.isFunction(g.ajax.processResults) && (g.ajax.results = g.ajax.processResults), null != g.language && (s = g.language, w.isFunction(s.noMatches) && (g.formatNoMatches = s.noMatches), w.isFunction(s.searching) && (g.formatSearching = s.searching), w.isFunction(s.inputTooShort) && (g.formatInputTooShort = s.inputTooShort), w.isFunction(s.inputTooLong) && (g.formatInputTooLong = s.inputTooLong), w.isFunction(s.loadingMore) && (g.formatLoading = s.loadingMore), w.isFunction(s.maximumSelected) && (g.formatSelectionTooBig = s.maximumSelected)), "function" != typeof (g = w.extend({}, { populateResults: function (e, t, u) { var d, p = this.opts.id, f = this.liveRegion; (d = function (e, t, s) { for (var i, n, o, a, l, c = [], r = 0, h = (e = g.sortResults(e, t, u)).length; r < h; r += 1)o = !(l = !0 === (i = e[r]).disabled) && p(i) !== v, a = i.children && 0 < i.children.length, (n = w("<li></li>")).addClass("select3-results-dept-" + s), n.addClass("select3-result"), n.addClass(o ? "select3-result-selectable" : "select3-result-unselectable"), l && n.addClass("select3-disabled"), a && n.addClass("select3-result-with-children"), n.addClass(m.opts.formatResultCssClass(i)), n.attr("role", "presentation"), (o = w(document.createElement("div"))).addClass("select3-result-label"), o.attr("id", "select3-result-label-" + T()), o.attr("role", "option"), (l = g.formatResult(i, o, u, m.opts.escapeMarkup)) !== v && (o.html(l), n.append(o)), a && ((a = w("<ul></ul>")).addClass("select3-result-sub"), d(i.children, a, s + 1), n.append(a)), n.data("select3-data", i), c.push(n[0]); t.append(c), f.text(g.formatMatches(e.length)) })(t, e, 0) } }, w.fn.select3.defaults, g)).id && (t = g.id, g.id = function (e) { return e[t] }), w.isArray(g.element.data("select3Tags"))) { if ("tags" in g) throw "tags specified as both an attribute 'data-select3-tags' and in options of select3 " + g.element.attr("id"); g.tags = g.element.data("select3Tags") } if (e ? (g.query = this.bind(function (i) { var e, s = { results: [], more: !1 }, n = i.term, o = function (e, t) { var s; e.is("option") ? i.matcher(n, e.text(), e) && t.push(m.optionToData(e)) : e.is("optgroup") && (s = m.optionToData(e), e.children().each2(function (e, t) { o(t, s.children) }), 0 < s.children.length && t.push(s)) }, t = a.children(); this.getPlaceholder() !== v && 0 < t.length && ((e = this.getPlaceholderOption()) && (t = t.not(e))), t.each2(function (e, t) { o(t, s.results) }), i.callback(s) }), g.id = function (e) { return e.id }) : "query" in g || ("ajax" in g ? ((e = g.element.data("ajax-url")) && 0 < e.length && (g.ajax.url = e), g.query = i.call(g.element, g.ajax)) : "data" in g ? g.query = b(g.data) : "tags" in g && (g.query = C(g.tags), g.createSearchChoice === v && (g.createSearchChoice = function (e) { return { id: w.trim(e), text: w.trim(e) } }), g.initSelection === v && (g.initSelection = function (e, t) { var s = []; w(n(e.val(), g.separator, g.transformVal)).each(function () { var e = { id: this, text: this }, t = g.tags; w.isFunction(t) && (t = t()), w(t).each(function () { return u(this.id, e.id) ? (e = this, !1) : void 0 }), s.push(e) }), t(s) }))), "function" != typeof g.query) throw "query function not defined for select3 " + g.element.attr("id"); if ("top" === g.createSearchChoicePosition) g.createSearchChoicePosition = function (e, t) { e.unshift(t) }; else if ("bottom" === g.createSearchChoicePosition) g.createSearchChoicePosition = function (e, t) { e.push(t) }; else if ("function" != typeof g.createSearchChoicePosition) throw "invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function"; return g }, monitorSource: function () { var e, t = this.opts.element, s = this; t.on("change.select3", this.bind(function (e) { !0 !== this.opts.element.data("select3-change-triggered") && this.initSelection() })), this._sync = this.bind(function () { var e = t.prop("disabled"); e === v && (e = !1), this.enable(!e); e = t.prop("readonly"); e === v && (e = !1), this.readonly(e), this.container && (p(this.container, this.opts.element, this.opts.adaptContainerCssClass), this.container.addClass(S(this.opts.containerCssClass, this.opts.element))), this.dropdown && (p(this.dropdown, this.opts.element, this.opts.adaptDropdownCssClass), this.dropdown.addClass(S(this.opts.dropdownCssClass, this.opts.element))) }), t.length && t[0].attachEvent && t.each(function () { this.attachEvent("onpropertychange", s._sync) }), (e = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver) !== v && (this.propertyObserver && (delete this.propertyObserver, this.propertyObserver = null), this.propertyObserver = new e(function (e) { w.each(e, s._sync) }), this.propertyObserver.observe(t.get(0), { attributes: !0, subtree: !1 })) }, triggerSelect: function (e) { e = w.Event("select3-selecting", { val: this.id(e), object: e, choice: e }); return this.opts.element.trigger(e), !e.isDefaultPrevented() }, triggerChange: function (e) { e = e || {}, e = w.extend({}, e, { type: "change", val: this.val() }), this.opts.element.data("select3-change-triggered", !0), this.opts.element.trigger(e), this.opts.element.data("select3-change-triggered", !1), this.opts.element.click(), this.opts.blurOnChange && this.opts.element.blur() }, isInterfaceEnabled: function () { return !0 === this.enabledInterface }, enableInterface: function () { var e = this._enabled && !this._readonly, t = !e; return e !== this.enabledInterface && (this.container.toggleClass("select3-container-disabled", t), this.close(), this.enabledInterface = e, !0) }, enable: function (e) { e === v && (e = !0), this._enabled !== e && (this._enabled = e, this.opts.element.prop("disabled", !e), this.enableInterface()) }, disable: function () { this.enable(!1) }, readonly: function (e) { e === v && (e = !1), this._readonly !== e && (this._readonly = e, this.opts.element.prop("readonly", e), this.enableInterface()) }, opened: function () { return !!this.container && this.container.hasClass("select3-dropdown-open") }, positionDropdown: function () { var e, t, s, i = this.dropdown, n = this.container, o = n.offset(), a = n.outerHeight(!1), l = n.outerWidth(!1), c = i.outerHeight(!1), r = w(window), h = r.width(), u = r.height(), d = r.scrollLeft() + h, p = r.scrollTop() + u, f = o.top + a, g = o.left, m = f + c <= p, v = o.top - c >= r.scrollTop(), b = i.outerWidth(!1); i.hasClass("select3-drop-above") ? (e = !0, !v && m && (e = !(t = !0))) : (e = !1, !m && v && (e = t = !0)), t && (i.hide(), o = this.container.offset(), a = this.container.outerHeight(!1), l = this.container.outerWidth(!1), c = i.outerHeight(!1), d = r.scrollLeft() + h, r.scrollTop(), f = o.top + a, g = o.left, b = i.outerWidth(!1), i.show(), this.focusSearch()), this.opts.dropdownAutoWidth ? (s = w(".select3-results", i)[0], i.addClass("select3-drop-auto-width"), i.css("width", ""), l < (b = i.outerWidth(!1) + (s.scrollHeight === s.clientHeight ? 0 : O.width)) ? l = b : b = l, c = i.outerHeight(!1)) : this.container.removeClass("select3-drop-auto-width"), "static" !== this.body.css("position") && (f -= (s = this.body.offset()).top, g -= s.left), !(g + b <= d) && o.left + d + n.outerWidth(!1) > b && (g = o.left + this.container.outerWidth(!1) - b), l = { left: g, width: l }, e ? (this.container.addClass("select3-drop-above"), i.addClass("select3-drop-above"), c = i.outerHeight(!1), l.top = o.top - c, l.bottom = "auto") : (l.top = f, l.bottom = "auto", this.container.removeClass("select3-drop-above"), i.removeClass("select3-drop-above")), l = w.extend(l, S(this.opts.dropdownCss, this.opts.element)), i.css(l) }, shouldOpen: function () { var e; return !this.opened() && (!1 !== this._enabled && !0 !== this._readonly && (e = w.Event("select3-opening"), this.opts.element.trigger(e), !e.isDefaultPrevented())) }, clearDropdownAlignmentPreference: function () { this.container.removeClass("select3-drop-above"), this.dropdown.removeClass("select3-drop-above") }, open: function () { return !!this.shouldOpen() && (this.opening(), R.on("mousemove.select3Event", function (e) { I.x = e.pageX, I.y = e.pageY }), !0) }, opening: function () { var s, e = this.containerEventName, t = "scroll." + e, i = "resize." + e, n = "orientationchange." + e; this.container.addClass("select3-dropdown-open").addClass("select3-container-active"), this.clearDropdownAlignmentPreference(), this.dropdown[0] !== this.body.children().last()[0] && this.dropdown.detach().appendTo(this.body), 0 === (s = w("#select3-drop-mask")).length && ((s = w(document.createElement("div"))).attr("id", "select3-drop-mask").attr("class", "select3-drop-mask"), s.hide(), s.appendTo(this.body), s.on("mousedown touchstart click", function (e) { a(s); var t = w("#select3-drop"); 0 < t.length && ((t = t.data("select3")).opts.selectOnBlur && t.selectHighlighted({ noFocus: !0 }), t.close(), e.preventDefault(), e.stopPropagation()) })), this.dropdown.prev()[0] !== s[0] && this.dropdown.before(s), w("#select3-drop").removeAttr("id"), this.dropdown.attr("id", "select3-drop"), s.show(), this.positionDropdown(), this.dropdown.show(), this.positionDropdown(), this.dropdown.addClass("select3-drop-active"); var o = this; this.container.parents().add(window).each(function () { w(this).on(i + " " + t + " " + n, function (e) { o.opened() && o.positionDropdown() }) }) }, close: function () { var e, t, s, i; this.opened() && (e = this.containerEventName, t = "scroll." + e, s = "resize." + e, i = "orientationchange." + e, this.container.parents().add(window).each(function () { w(this).off(t).off(s).off(i) }), this.clearDropdownAlignmentPreference(), w("#select3-drop-mask").hide(), this.dropdown.removeAttr("id"), this.dropdown.hide(), this.container.removeClass("select3-dropdown-open").removeClass("select3-container-active"), this.results.empty(), R.off("mousemove.select3Event"), this.clearSearch(), this.search.removeClass("select3-active"), this.search.removeAttr("aria-activedescendant"), this.opts.element.trigger(w.Event("select3-close"))) }, externalSearch: function (e) { this.open(), this.search.val(e), this.updateResults(!1) }, clearSearch: function () { }, prefillNextSearchTerm: function () { if ("" !== this.search.val()) return !1; var e = this.opts.nextSearchTerm(this.data(), this.lastSearchTerm); return e !== v && (this.search.val(e), this.search.select(), !0) }, getMaximumSelectionSize: function () { return S(this.opts.maximumSelectionSize, this.opts.element) }, ensureHighlightVisible: function () { var e, t, s, i, n, o, a = this.results; (t = this.highlight()) < 0 || (0 != t ? (e = this.findHighlightableChoices().find(".select3-result-label"), i = (o = ((s = w(e[t])).offset() || {}).top || 0) + s.outerHeight(!0), t !== e.length - 1 || 0 < (n = a.find("li.select3-more-results")).length && (i = n.offset().top + n.outerHeight(!0)), (n = a.offset().top + a.outerHeight(!1)) < i && a.scrollTop(a.scrollTop() + (i - n)), (o = o - a.offset().top) < 0 && "none" != s.css("display") && a.scrollTop(a.scrollTop() + o)) : a.scrollTop(0)) }, findHighlightableChoices: function () { return this.results.find(".select3-result-selectable:not(.select3-disabled):not(.select3-selected)") }, moveHighlight: function (e) { for (var t = this.findHighlightableChoices(), s = this.highlight(); -1 < s && s < t.length;) { var i = w(t[s += e]); if (i.hasClass("select3-result-selectable") && !i.hasClass("select3-disabled") && !i.hasClass("select3-selected")) { this.highlight(s); break } } }, highlight: function (e) { var t = this.findHighlightableChoices(); return 0 === arguments.length ? c(t.filter(".select3-highlighted")[0], t.get()) : (e >= t.length && (e = t.length - 1), e < 0 && (e = 0), this.removeHighlight(), (e = w(t[e])).addClass("select3-highlighted"), this.search.attr("aria-activedescendant", e.find(".select3-result-label").attr("id")), this.ensureHighlightVisible(), this.liveRegion.text(e.text()), void ((e = e.data("select3-data")) && this.opts.element.trigger({ type: "select3-highlight", val: this.id(e), choice: e }))) }, removeHighlight: function () { this.results.find(".select3-highlighted").removeClass("select3-highlighted") }, touchMoved: function () { this._touchMoved = !0 }, clearTouchMoved: function () { this._touchMoved = !1 }, countSelectableResults: function () { return this.findHighlightableChoices().length }, highlightUnderEvent: function (e) { var t = w(e.target).closest(".select3-result-selectable"); 0 < t.length && !t.is(".select3-highlighted") ? (e = this.findHighlightableChoices(), this.highlight(e.index(t))) : 0 == t.length && this.removeHighlight() }, loadMoreIfNeeded: function () { var t = this.results, s = t.find("li.select3-more-results"), i = this.resultsPage + 1, n = this, o = this.search.val(), a = this.context; 0 === s.length || s.offset().top - t.offset().top - t.height() <= this.opts.loadMorePadding && (s.addClass("select3-active"), this.opts.query({ element: this.opts.element, term: o, page: i, context: a, matcher: this.opts.matcher, callback: this.bind(function (e) { n.opened() && (n.opts.populateResults.call(this, t, e.results, { term: o, page: i, context: a }), n.postprocessResults(e, !1, !1), !0 === e.more ? (s.detach().appendTo(t).html(n.opts.escapeMarkup(S(n.opts.formatLoadMore, n.opts.element, i + 1))), window.setTimeout(function () { n.loadMoreIfNeeded() }, 10)) : s.remove(), n.positionDropdown(), n.resultsPage = i, n.context = e.context, this.opts.element.trigger({ type: "select3-loaded", items: e })) }) })) }, tokenize: function () { }, updateResults: function (s) { function i() { a.removeClass("select3-active"), r.positionDropdown(), l.find(".select3-no-results,.select3-selection-limit,.select3-searching").length ? r.liveRegion.text(l.text()) : r.liveRegion.text(r.opts.formatMatches(l.find('.select3-result-selectable:not(".select3-selected")').length)) } function n(e) { l.html(e), i() } var e, o, a = this.search, l = this.results, c = this.opts, r = this, t = a.val(), h = w.data(this.container, "select3-last-term"); if ((!0 === s || !h || !u(t, h)) && (w.data(this.container, "select3-last-term", t), !0 === s || !1 !== this.showSearchInput && this.opened())) { o = ++this.queryCount; t = this.getMaximumSelectionSize(); if (!(1 <= t && (e = this.data(), w.isArray(e) && e.length >= t && g(c.formatSelectionTooBig, "formatSelectionTooBig")))) return a.val().length < c.minimumInputLength ? (n(g(c.formatInputTooShort, "formatInputTooShort") ? "<li class='select3-no-results'>" + S(c.formatInputTooShort, c.element, a.val(), c.minimumInputLength) + "</li>" : ""), void (s && this.showSearch && this.showSearch(!0))) : void (c.maximumInputLength && a.val().length > c.maximumInputLength ? n(g(c.formatInputTooLong, "formatInputTooLong") ? "<li class='select3-no-results'>" + S(c.formatInputTooLong, c.element, a.val(), c.maximumInputLength) + "</li>" : "") : (c.formatSearching && 0 === this.findHighlightableChoices().length && n("<li class='select3-searching'>" + S(c.formatSearching, c.element) + "</li>"), a.addClass("select3-active"), this.removeHighlight(), (e = this.tokenize()) != v && null != e && a.val(e), this.resultsPage = 1, c.query({ element: c.element, term: a.val(), page: this.resultsPage, context: null, matcher: c.matcher, callback: this.bind(function (e) { var t; if (o == this.queryCount) if (this.opened()) { if (e.hasError === v || !g(c.formatAjaxError, "formatAjaxError")) return this.context = e.context === v ? null : e.context, this.opts.createSearchChoice && "" !== a.val() && ((t = this.opts.createSearchChoice.call(r, a.val(), e.results)) !== v && null !== t && r.id(t) !== v && null !== r.id(t) && 0 === w(e.results).filter(function () { return u(r.id(this), r.id(t)) }).length && this.opts.createSearchChoicePosition(e.results, t)), 0 === e.results.length && g(c.formatNoMatches, "formatNoMatches") ? (n("<li class='select3-no-results'>" + S(c.formatNoMatches, c.element, a.val()) + "</li>"), void (this.showSearch && this.showSearch(a.val()))) : (l.empty(), r.opts.populateResults.call(this, l, e.results, { term: a.val(), page: this.resultsPage, context: null }), !0 === e.more && g(c.formatLoadMore, "formatLoadMore") && (l.append("<li class='select3-more-results'>" + c.escapeMarkup(S(c.formatLoadMore, c.element, this.resultsPage)) + "</li>"), window.setTimeout(function () { r.loadMoreIfNeeded() }, 10)), this.postprocessResults(e, s), i(), void this.opts.element.trigger({ type: "select3-loaded", items: e })); n("<li class='select3-ajax-error'>" + S(c.formatAjaxError, c.element, e.jqXHR, e.textStatus, e.errorThrown) + "</li>") } else this.search.removeClass("select3-active") }) }))); n("<li class='select3-selection-limit'>" + S(c.formatSelectionTooBig, c.element, t) + "</li>") } }, cancel: function () { this.close() }, blur: function () { this.opts.selectOnBlur && this.selectHighlighted({ noFocus: !0 }), this.close(), this.container.removeClass("select3-container-active"), this.search[0] === document.activeElement && this.search.blur(), this.clearSearch(), this.selection.find(".select3-search-choice-focus").removeClass("select3-search-choice-focus") }, focusSearch: function () { var s; (s = this.search)[0] !== document.activeElement && window.setTimeout(function () { var e = s[0], t = s.val().length; s.focus(), (0 < e.offsetWidth || 0 < e.offsetHeight) && e === document.activeElement && (e.setSelectionRange ? e.setSelectionRange(t, t) : e.createTextRange && ((e = e.createTextRange()).collapse(!1), e.select())) }, 0) }, selectHighlighted: function (e) { var t, s; this._touchMoved ? this.clearTouchMoved() : (t = this.highlight(), (s = this.results.find(".select3-highlighted").closest(".select3-result").data("select3-data")) ? (this.highlight(t), this.onSelect(s, e)) : e && e.noFocus && this.close()) }, getPlaceholder: function () { var e; return this.opts.element.attr("placeholder") || this.opts.element.attr("data-placeholder") || this.opts.element.data("placeholder") || this.opts.placeholder || ((e = this.getPlaceholderOption()) !== v ? e.text() : v) }, getPlaceholderOption: function () { if (this.select) { var e = this.select.children("option").first(); return this.opts.placeholderOption !== v ? "first" === this.opts.placeholderOption && e || "function" == typeof this.opts.placeholderOption && this.opts.placeholderOption(this.select) : "" === w.trim(e.text()) && "" === e.val() ? e : void 0 } }, initContainerWidth: function () { var e = function () { var e, t, s, i, n; if ("off" === this.opts.width) return null; if ("element" === this.opts.width) return 0 === this.opts.element.outerWidth(!1) ? "auto" : this.opts.element.outerWidth(!1) + "px"; if ("copy" !== this.opts.width && "resolve" !== this.opts.width) return w.isFunction(this.opts.width) ? this.opts.width() : this.opts.width; if ("string" == typeof (e = this.opts.element.attr("style"))) for (i = 0, n = (t = e.split(";")).length; i < n; i += 1)if (null !== (s = t[i].replace(/\s/g, "").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i)) && 1 <= s.length) return s[1]; return "resolve" === this.opts.width ? 0 < (e = this.opts.element.css("width")).indexOf("%") ? e : 0 === this.opts.element.outerWidth(!1) ? "auto" : this.opts.element.outerWidth(!1) + "px" : null }.call(this); null !== e && this.container.css("width", e) } }), y = t(s, { createContainer: function () { return w(document.createElement("div")).attr({ class: "select3-container" }).html(["<a href='javascript:void(0)' class='select3-choice' tabindex='-1'>", "   <span class='select3-chosen'>&#160;</span><abbr class='select3-search-choice-close'></abbr>", "   <span class='select3-arrow' role='presentation'><b role='presentation'></b></span>", "</a>", "<label for='' class='select3-offscreen'></label>", "<input class='select3-focusser select3-offscreen' type='text' aria-haspopup='true' role='button' />", "<div class='select3-drop select3-display-none'>", "   <div class='select3-search'>", "       <label for='' class='select3-offscreen'></label>", "       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select3-input' role='combobox' aria-expanded='true'", "       aria-autocomplete='list' />", "   </div>", "   <ul class='select3-results' role='listbox'>", "   </ul>", "</div>"].join("")) }, enableInterface: function () { this.parent.enableInterface.apply(this, arguments) && this.focusser.prop("disabled", !this.isInterfaceEnabled()) }, opening: function () { var e, t; 0 <= this.opts.minimumResultsForSearch && this.showSearch(!0), this.parent.opening.apply(this, arguments), !1 !== this.showSearchInput && this.search.val(this.focusser.val()), this.opts.shouldFocusInput(this) && (this.search.focus(), (e = this.search.get(0)).createTextRange ? ((t = e.createTextRange()).collapse(!1), t.select()) : e.setSelectionRange && (t = this.search.val().length, e.setSelectionRange(t, t))), this.prefillNextSearchTerm(), this.focusser.prop("disabled", !0).val(""), this.updateResults(!0), this.opts.element.trigger(w.Event("select3-open")) }, close: function () { this.opened() && (this.parent.close.apply(this, arguments), this.focusser.prop("disabled", !1), this.opts.shouldFocusInput(this) && this.focusser.focus()) }, focus: function () { this.opened() ? this.close() : (this.focusser.prop("disabled", !1), this.opts.shouldFocusInput(this) && this.focusser.focus()) }, isFocused: function () { return this.container.hasClass("select3-container-active") }, cancel: function () { this.parent.cancel.apply(this, arguments), this.focusser.prop("disabled", !1), this.opts.shouldFocusInput(this) && this.focusser.focus() }, destroy: function () { w("label[for='" + this.focusser.attr("id") + "']").attr("for", this.opts.element.attr("id")), this.parent.destroy.apply(this, arguments), m.call(this, "selection", "focusser") }, initContainer: function () { var t, e = this.container, s = this.dropdown, i = T(); this.opts.minimumResultsForSearch < 0 ? this.showSearch(!1) : this.showSearch(!0), this.selection = t = e.find(".select3-choice"), this.focusser = e.find(".select3-focusser"), t.find(".select3-chosen").attr("id", "select3-chosen-" + i), this.focusser.attr("aria-labelledby", "select3-chosen-" + i), this.results.attr("id", "select3-results-" + i), this.search.attr("aria-owns", "select3-results-" + i), this.focusser.attr("id", "s2id_autogen" + i), e = w("label[for='" + this.opts.element.attr("id") + "']"), this.opts.element.on("focus.select3", this.bind(function () { this.focus() })), this.focusser.prev().text(e.text()).attr("for", this.focusser.attr("id")); i = this.opts.element.attr("title"); this.opts.element.attr("title", i || e.text()), this.focusser.attr("tabindex", this.elementTabIndex), this.search.attr("id", this.focusser.attr("id") + "_search"), this.search.prev().text(w("label[for='" + this.focusser.attr("id") + "']").text()).attr("for", this.search.attr("id")), this.search.on("keydown", this.bind(function (e) { if (this.isInterfaceEnabled() && 229 != e.keyCode) if (e.which !== P.PAGE_UP && e.which !== P.PAGE_DOWN) switch (e.which) { case P.UP: case P.DOWN: return this.moveHighlight(e.which === P.UP ? -1 : 1), void d(e); case P.ENTER: return this.selectHighlighted(), void d(e); case P.TAB: return void this.selectHighlighted({ noFocus: !0 }); case P.ESC: return this.cancel(e), void d(e) } else d(e) })), this.search.on("blur", this.bind(function (e) { document.activeElement === this.body.get(0) && window.setTimeout(this.bind(function () { this.opened() && this.results && 1 < this.results.length && this.search.focus() }), 0) })), this.focusser.on("keydown", this.bind(function (e) { if (this.isInterfaceEnabled() && e.which !== P.TAB && !P.isControl(e) && !P.isFunctionKey(e) && e.which !== P.ESC) { if (!1 !== this.opts.openOnEnter || e.which !== P.ENTER) return e.which == P.DOWN || e.which == P.UP || e.which == P.ENTER && this.opts.openOnEnter ? e.altKey || e.ctrlKey || e.shiftKey || e.metaKey ? void 0 : (this.open(), void d(e)) : e.which == P.DELETE || e.which == P.BACKSPACE ? (this.opts.allowClear && this.clear(), void d(e)) : void 0; d(e) } })), r(this.focusser), this.focusser.on("keyup-change input", this.bind(function (e) { 0 <= this.opts.minimumResultsForSearch && (e.stopPropagation(), this.opened() || this.open()) })), t.on("mousedown touchstart", "abbr", this.bind(function (e) { this.isInterfaceEnabled() && (this.clear(), (e = e).preventDefault(), e.stopImmediatePropagation(), this.close(), this.selection && this.selection.focus()) })), t.on("mousedown touchstart", this.bind(function (e) { a(t), this.container.hasClass("select3-container-active") || this.opts.element.trigger(w.Event("select3-focus")), this.opened() ? this.close() : this.isInterfaceEnabled() && this.open(), d(e) })), s.on("mousedown touchstart", this.bind(function () { this.opts.shouldFocusInput(this) && this.search.focus() })), t.on("focus", this.bind(function (e) { d(e) })), this.focusser.on("focus", this.bind(function () { this.container.hasClass("select3-container-active") || this.opts.element.trigger(w.Event("select3-focus")), this.container.addClass("select3-container-active") })).on("blur", this.bind(function () { this.opened() || (this.container.removeClass("select3-container-active"), this.opts.element.trigger(w.Event("select3-blur"))) })), this.search.on("focus", this.bind(function () { this.container.hasClass("select3-container-active") || this.opts.element.trigger(w.Event("select3-focus")), this.container.addClass("select3-container-active") })), this.initContainerWidth(), this.opts.element.hide(), this.setPlaceholder() }, clear: function (e) { var t, s = this.selection.data("select3-data"); s && (t = w.Event("select3-clearing"), this.opts.element.trigger(t), t.isDefaultPrevented() || (t = this.getPlaceholderOption(), this.opts.element.val(t ? t.val() : ""), this.selection.find(".select3-chosen").empty(), this.selection.removeData("select3-data"), this.setPlaceholder(), !1 !== e && (this.opts.element.trigger({ type: "select3-removed", val: this.id(s), choice: s }), this.triggerChange({ removed: s })))) }, initSelection: function () { var t; this.isPlaceholderOptionSelected() ? (this.updateSelection(null), this.close(), this.setPlaceholder()) : (t = this).opts.initSelection.call(null, this.opts.element, function (e) { e !== v && null !== e && (t.updateSelection(e), t.close(), t.setPlaceholder(), t.lastSearchTerm = t.search.val()) }) }, isPlaceholderOptionSelected: function () { var e; return this.getPlaceholder() !== v && ((e = this.getPlaceholderOption()) !== v && e.prop("selected") || "" === this.opts.element.val() || this.opts.element.val() === v || null === this.opts.element.val()) }, prepareOpts: function () { var a = this.parent.prepareOpts.apply(this, arguments), s = this; return "select" === a.element.get(0).tagName.toLowerCase() ? a.initSelection = function (e, t) { e = e.find("option").filter(function () { return this.selected && !this.disabled }); t(s.optionToData(e)) } : "data" in a && (a.initSelection = a.initSelection || function (e, t) { var n = e.val(), o = null; a.query({ matcher: function (e, t, s) { var i = u(n, a.id(s)); return i && (o = s), i }, callback: w.isFunction(t) ? function () { t(o) } : w.noop }) }), a }, getPlaceholder: function () { return this.select && this.getPlaceholderOption() === v ? v : this.parent.getPlaceholder.apply(this, arguments) }, setPlaceholder: function () { var e = this.getPlaceholder(); this.isPlaceholderOptionSelected() && e !== v && (this.select && this.getPlaceholderOption() === v || (this.selection.find(".select3-chosen").html(this.opts.escapeMarkup(e)), this.selection.addClass("select3-default"), this.container.removeClass("select3-allowclear"))) }, postprocessResults: function (e, t, s) { var i, n = 0, o = this; this.findHighlightableChoices().each2(function (e, t) { return u(o.id(t.data("select3-data")), o.opts.element.val()) ? (n = e, !1) : void 0 }), !1 !== s && (!0 === t && 0 <= n ? this.highlight(n) : this.highlight(0)), !0 === t && 0 <= (i = this.opts.minimumResultsForSearch) && this.showSearch(function s(e) { var i = 0; return w.each(e, function (e, t) { t.children ? i += s(t.children) : i++ }), i }(e.results) >= i) }, showSearch: function (e) { this.showSearchInput !== e && (this.showSearchInput = e, this.dropdown.find(".select3-search").toggleClass("select3-search-hidden", !e), this.dropdown.find(".select3-search").toggleClass("select3-offscreen", !e), w(this.dropdown, this.container).toggleClass("select3-with-searchbox", e)) }, onSelect: function (e, t) { var s, i; this.triggerSelect(e) && (s = this.opts.element.val(), i = this.data(), this.opts.element.val(this.id(e)), this.updateSelection(e), this.opts.element.trigger({ type: "select3-selected", val: this.id(e), choice: e }), this.lastSearchTerm = this.search.val(), this.close(), t && t.noFocus || !this.opts.shouldFocusInput(this) || this.focusser.focus(), u(s, this.id(e)) || this.triggerChange({ added: e, removed: i })) }, updateSelection: function (e) { var t, s = this.selection.find(".select3-chosen"); this.selection.data("select3-data", e), s.empty(), null !== e && (t = this.opts.formatSelection(e, s, this.opts.escapeMarkup)), t !== v && s.append(t), (e = this.opts.formatSelectionCssClass(e, s)) !== v && s.addClass(e), this.selection.removeClass("select3-default"), this.opts.allowClear && this.getPlaceholder() !== v && this.container.addClass("select3-allowclear") }, val: function () { var e, t = !1, s = null, i = this, n = this.data(); if (0 === arguments.length) return this.opts.element.val(); if (e = arguments[0], 1 < arguments.length && (t = arguments[1], this.opts.debug && console && console.warn && console.warn('select3: The second option to `select3("val")` is not supported in select3 4.0.0. The `change` event will always be triggered in 4.0.0.')), this.select) this.opts.debug && console && console.warn && console.warn('select3: Setting the value on a <select> using `select3("val")` is no longer supported in 4.0.0. You can use the `.val(newValue).trigger("change")` method provided by jQuery instead.'), this.select.val(e).find("option").filter(function () { return this.selected }).each2(function (e, t) { return s = i.optionToData(t), !1 }), this.updateSelection(s), this.setPlaceholder(), t && this.triggerChange({ added: s, removed: n }); else if (e || 0 === e) { if (this.opts.initSelection === v) throw new Error("cannot call val() if initSelection() is not defined"); this.opts.element.val(e), this.opts.initSelection(this.opts.element, function (e) { i.opts.element.val(e ? i.id(e) : ""), i.updateSelection(e), i.setPlaceholder(), t && i.triggerChange({ added: e, removed: n }) }) } else this.clear(t) }, clearSearch: function () { this.search.val(""), this.focusser.val("") }, data: function (e) { var t, s = !1; return 0 === arguments.length ? ((t = this.selection.data("select3-data")) == v && (t = null), t) : (this.opts.debug && console && console.warn && console.warn('select3: The `select3("data")` method can no longer set selected values in 4.0.0, consider using the `.val()` method instead.'), 1 < arguments.length && (s = arguments[1]), void (e ? (t = this.data(), this.opts.element.val(e ? this.id(e) : ""), this.updateSelection(e), s && this.triggerChange({ added: e, removed: t })) : this.clear(s))) } }), x = t(s, { createContainer: function () { return w(document.createElement("div")).attr({ class: "select3-container select3-container-multi" }).html(["<ul class='select3-choices'>", "  <li class='select3-search-field'>", "    <label for='' class='select3-offscreen'></label>", "    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select3-input'>", "  </li>", "</ul>", "<div class='select3-drop select3-drop-multi select3-display-none'>", "   <ul class='select3-results'>", "   </ul>", "</div>"].join("")) }, prepareOpts: function () { var c = this.parent.prepareOpts.apply(this, arguments), i = this; return "select" === c.element.get(0).tagName.toLowerCase() ? c.initSelection = function (e, t) { var s = []; e.find("option").filter(function () { return this.selected && !this.disabled }).each2(function (e, t) { s.push(i.optionToData(t)) }), t(s) } : "data" in c && (c.initSelection = c.initSelection || function (e, o) { var a = n(e.val(), c.separator, c.transformVal), l = []; c.query({ matcher: function (e, t, s) { var i = w.grep(a, function (e) { return u(e, c.id(s)) }).length; return i && l.push(s), i }, callback: w.isFunction(o) ? function () { for (var e = [], t = 0; t < a.length; t++)for (var s = a[t], i = 0; i < l.length; i++) { var n = l[i]; if (u(s, c.id(n))) { e.push(n), l.splice(i, 1); break } } o(e) } : w.noop }) }), c }, selectChoice: function (e) { var t = this.container.find(".select3-search-choice-focus"); t.length && e && e[0] == t[0] || (t.length && this.opts.element.trigger("choice-deselected", t), t.removeClass("select3-search-choice-focus"), e && e.length && (this.close(), e.addClass("select3-search-choice-focus"), this.opts.element.trigger("choice-selected", e))) }, destroy: function () { w("label[for='" + this.search.attr("id") + "']").attr("for", this.opts.element.attr("id")), this.parent.destroy.apply(this, arguments), m.call(this, "searchContainer", "selection") }, initContainer: function () { var c, e = ".select3-choices"; this.searchContainer = this.container.find(".select3-search-field"), this.selection = c = this.container.find(e); var t = this; this.selection.on("click", ".select3-container:not(.select3-container-disabled) .select3-search-choice:not(.select3-locked)", function (e) { t.search[0].focus(), t.selectChoice(w(this)) }), this.search.attr("id", "s2id_autogen" + T()), this.search.prev().text(w("label[for='" + this.opts.element.attr("id") + "']").text()).attr("for", this.search.attr("id")), this.opts.element.on("focus.select3", this.bind(function () { this.focus() })), this.search.on("input paste", this.bind(function () { this.search.attr("placeholder") && 0 == this.search.val().length || this.isInterfaceEnabled() && (this.opened() || this.open()) })), this.search.attr("tabindex", this.elementTabIndex), this.keydowns = 0, this.search.on("keydown", this.bind(function (e) { if (this.isInterfaceEnabled()) { ++this.keydowns; var t = c.find(".select3-search-choice-focus"), s = t.prev(".select3-search-choice:not(.select3-locked)"), i = t.next(".select3-search-choice:not(.select3-locked)"), n = (o = this.search, l = n = 0, "selectionStart" in (o = w(o)[0]) ? (n = o.selectionStart, l = o.selectionEnd - n) : "selection" in document && (o.focus(), a = document.selection.createRange(), l = document.selection.createRange().text.length, a.moveStart("character", -o.value.length), n = a.text.length - l), { offset: n, length: l }); if (t.length && (e.which == P.LEFT || e.which == P.RIGHT || e.which == P.BACKSPACE || e.which == P.DELETE || e.which == P.ENTER)) { l = t; return e.which == P.LEFT && s.length ? l = s : e.which == P.RIGHT ? l = i.length ? i : null : e.which === P.BACKSPACE ? this.unselect(t.first()) && (this.search.width(10), l = s.length ? s : i) : e.which == P.DELETE ? this.unselect(t.first()) && (this.search.width(10), l = i.length ? i : null) : e.which == P.ENTER && (l = null), this.selectChoice(l), d(e), void (l && l.length || this.open()) } if ((e.which === P.BACKSPACE && 1 == this.keydowns || e.which == P.LEFT) && 0 == n.offset && !n.length) return this.selectChoice(c.find(".select3-search-choice:not(.select3-locked)").last()), void d(e); if (this.selectChoice(null), this.opened()) switch (e.which) { case P.UP: case P.DOWN: return this.moveHighlight(e.which === P.UP ? -1 : 1), void d(e); case P.ENTER: return this.selectHighlighted(), void d(e); case P.TAB: return this.selectHighlighted({ noFocus: !0 }), void this.close(); case P.ESC: return this.cancel(e), void d(e) }if (e.which !== P.TAB && !P.isControl(e) && !P.isFunctionKey(e) && e.which !== P.BACKSPACE && e.which !== P.ESC) { if (e.which === P.ENTER) { if (!1 === this.opts.openOnEnter) return; if (e.altKey || e.ctrlKey || e.shiftKey || e.metaKey) return } this.open(), e.which !== P.PAGE_UP && e.which !== P.PAGE_DOWN || d(e), e.which === P.ENTER && d(e) } } var o, a, n, l })), this.search.on("keyup", this.bind(function (e) { this.keydowns = 0, this.resizeSearch() })), this.search.on("blur", this.bind(function (e) { this.container.removeClass("select3-container-active"), this.search.removeClass("select3-focused"), this.selectChoice(null), this.opened() || this.clearSearch(), e.stopImmediatePropagation(), this.opts.element.trigger(w.Event("select3-blur")) })), this.container.on("click", e, this.bind(function (e) { this.isInterfaceEnabled() && (0 < w(e.target).closest(".select3-search-choice").length || (this.selectChoice(null), this.clearPlaceholder(), this.container.hasClass("select3-container-active") || this.opts.element.trigger(w.Event("select3-focus")), this.open(), this.focusSearch(), e.preventDefault())) })), this.container.on("focus", e, this.bind(function () { this.isInterfaceEnabled() && (this.container.hasClass("select3-container-active") || this.opts.element.trigger(w.Event("select3-focus")), this.container.addClass("select3-container-active"), this.dropdown.addClass("select3-drop-active"), this.clearPlaceholder()) })), this.initContainerWidth(), this.opts.element.hide(), this.clearSearch() }, enableInterface: function () { this.parent.enableInterface.apply(this, arguments) && this.search.prop("disabled", !this.isInterfaceEnabled()) }, initSelection: function () { var t; "" === this.opts.element.val() && "" === this.opts.element.text() && (this.updateSelection([]), this.close(), this.clearSearch()), !this.select && "" === this.opts.element.val() || (t = this).opts.initSelection.call(null, this.opts.element, function (e) { e !== v && null !== e && (t.updateSelection(e), t.close(), t.clearSearch()) }) }, clearSearch: function () { var e = this.getPlaceholder(), t = this.getMaxSearchWidth(); e !== v && 0 === this.getVal().length && !1 === this.search.hasClass("select3-focused") ? (this.search.val(e).addClass("select3-default"), this.search.width(0 < t ? t : this.container.css("width"))) : this.search.val("").width(10) }, clearPlaceholder: function () { this.search.hasClass("select3-default") && this.search.val("").removeClass("select3-default") }, opening: function () { this.clearPlaceholder(), this.resizeSearch(), this.parent.opening.apply(this, arguments), this.focusSearch(), this.prefillNextSearchTerm(), this.updateResults(!0), this.opts.shouldFocusInput(this) && this.search.focus(), this.opts.element.trigger(w.Event("select3-open")) }, close: function () { this.opened() && this.parent.close.apply(this, arguments) }, focus: function () { this.close(), this.search.focus() }, isFocused: function () { return this.search.hasClass("select3-focused") }, updateSelection: function (e) { var t = {}, s = [], i = this; w(e).each(function () { i.id(this) in t || (t[i.id(this)] = 0, s.push(this)) }), this.selection.find(".select3-search-choice").remove(), this.addSelectedChoice(s), i.postprocessResults() }, tokenize: function () { var e = this.search.val(); null != (e = this.opts.tokenizer.call(this, e, this.data(), this.bind(this.onSelect), this.opts)) && e != v && (this.search.val(e), 0 < e.length && this.open()) }, onSelect: function (e, t) { this.triggerSelect(e) && "" !== e.text && (this.addSelectedChoice(e), this.opts.element.trigger({ type: "selected", val: this.id(e), choice: e }), this.lastSearchTerm = this.search.val(), this.clearSearch(), this.updateResults(), !this.select && this.opts.closeOnSelect || this.postprocessResults(e, !1, !0 === this.opts.closeOnSelect), !this.opts.closeOnSelect && 0 < this.countSelectableResults() ? (this.search.width(10), this.resizeSearch(), 0 < this.getMaximumSelectionSize() && this.val().length >= this.getMaximumSelectionSize() ? this.updateResults(!0) : this.prefillNextSearchTerm() && this.updateResults(), this.positionDropdown()) : (this.close(), this.search.width(10)), this.triggerChange({ added: e }), t && t.noFocus || this.focusSearch()) }, cancel: function () { this.close(), this.focusSearch() }, addSelectedChoice: function (e) { var t = this.getVal(), s = this; w(e).each(function () { t.push(s.createChoice(this)) }), this.setVal(t) }, createChoice: function (e) { var t = !e.locked, s = w("<li class='select3-search-choice'>    <div></div>    <a href='#' class='select3-search-choice-close' tabindex='-1'></a></li>"), i = w("<li class='select3-search-choice select3-locked'><div></div></li>"), n = t ? s : i, s = this.id(e), i = this.opts.formatSelection(e, n.find("div"), this.opts.escapeMarkup); return i != v && n.find("div").replaceWith(w("<div></div>").html(i)), (i = this.opts.formatSelectionCssClass(e, n.find("div"))) != v && n.addClass(i), t && n.find(".select3-search-choice-close").on("mousedown", d).on("click dblclick", this.bind(function (e) { this.isInterfaceEnabled() && (this.unselect(w(e.target)), this.selection.find(".select3-search-choice-focus").removeClass("select3-search-choice-focus"), d(e), this.close(), this.focusSearch()) })).on("focus", this.bind(function () { this.isInterfaceEnabled() && (this.container.addClass("select3-container-active"), this.dropdown.addClass("select3-drop-active")) })), n.data("select3-data", e), n.insertBefore(this.searchContainer), s }, unselect: function (e) { var t, s, i = this.getVal(); if (0 === (e = e.closest(".select3-search-choice")).length) throw "Invalid argument: " + e + ". Must be .select3-search-choice"; if (t = e.data("select3-data")) { var n = w.Event("select3-removing"); if (n.val = this.id(t), n.choice = t, this.opts.element.trigger(n), n.isDefaultPrevented()) return !1; for (; 0 <= (s = c(this.id(t), i));)i.splice(s, 1), this.setVal(i), this.select && this.postprocessResults(); return e.remove(), this.opts.element.trigger({ type: "select3-removed", val: this.id(t), choice: t }), this.triggerChange({ removed: t }), !0 } }, postprocessResults: function (e, t, s) { var i = this.getVal(), n = this.results.find(".select3-result"), o = this.results.find(".select3-result-with-children"), a = this; n.each2(function (e, t) { 0 <= c(a.id(t.data("select3-data")), i) && (t.addClass("select3-selected"), t.find(".select3-result-selectable").addClass("select3-selected")) }), o.each2(function (e, t) { t.is(".select3-result-selectable") || 0 !== t.find(".select3-result-selectable:not(.select3-selected)").length || t.addClass("select3-selected") }), -1 == this.highlight() && !1 !== s && !0 === this.opts.closeOnSelect && a.highlight(0), !this.opts.createSearchChoice && 0 < !n.filter(".select3-result:not(.select3-selected)").length && (!e || e && !e.more && 0 === this.results.find(".select3-no-results").length) && g(a.opts.formatNoMatches, "formatNoMatches") && this.results.append("<li class='select3-no-results'>" + S(a.opts.formatNoMatches, a.opts.element, a.search.val()) + "</li>") }, getMaxSearchWidth: function () { return this.selection.width() - l(this.search) }, resizeSearch: function () { var e, t, s, i = l(this.search); t = this.search, E || (s = t[0].currentStyle || window.getComputedStyle(t[0], null), (E = w(document.createElement("div")).css({ position: "absolute", left: "-10000px", top: "-10000px", display: "none", fontSize: s.fontSize, fontFamily: s.fontFamily, fontStyle: s.fontStyle, fontWeight: s.fontWeight, letterSpacing: s.letterSpacing, textTransform: s.textTransform, whiteSpace: "nowrap" })).attr("class", "select3-sizer"), w(document.body).append(E)), E.text(t.val()), e = E.width() + 10, s = this.search.offset().left, (s = (t = this.selection.width()) - (s - this.selection.offset().left) - i) < e && (s = t - i), s < 40 && (s = t - i), s <= 0 && (s = e), this.search.width(Math.floor(s)) }, getVal: function () { var e; return this.select ? null === (e = this.select.val()) ? [] : e : n(e = this.opts.element.val(), this.opts.separator, this.opts.transformVal) }, setVal: function (e) { var t, s; this.select ? this.select.val(e) : (t = [], s = {}, w(e).each(function () { this in s || (t.push(this), s[this] = 0) }), this.opts.element.val(0 === t.length ? "" : t.join(this.opts.separator))) }, buildChangeDetails: function (e, t) { for (var t = t.slice(0), e = e.slice(0), s = 0; s < t.length; s++)for (var i = 0; i < e.length; i++)if (u(this.opts.id(t[s]), this.opts.id(e[i]))) { t.splice(s, 1), s--, e.splice(i, 1); break } return { added: t, removed: e } }, val: function (e, s) { var i, n = this; if (0 === arguments.length) return this.getVal(); if ((i = this.data()).length || (i = []), !e && 0 !== e) return this.opts.element.val(""), this.updateSelection([]), this.clearSearch(), void (s && this.triggerChange({ added: this.data(), removed: i })); if (this.setVal(e), this.select) this.opts.initSelection(this.select, this.bind(this.updateSelection)), s && this.triggerChange(this.buildChangeDetails(i, this.data())); else { if (this.opts.initSelection === v) throw new Error("val() cannot be called if initSelection() is not defined"); this.opts.initSelection(this.opts.element, function (e) { var t = w.map(e, n.id); n.setVal(t), n.updateSelection(e), n.clearSearch(), s && n.triggerChange(n.buildChangeDetails(i, n.data())) }) } this.clearSearch() }, onSortStart: function () { if (this.select) throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead."); this.search.width(0), this.searchContainer.hide() }, onSortEnd: function () { var e = [], t = this; this.searchContainer.show(), this.searchContainer.appendTo(this.searchContainer.parent()), this.resizeSearch(), this.selection.find(".select3-search-choice").each(function () { e.push(t.opts.id(w(this).data("select3-data"))) }), this.setVal(e), this.triggerChange() }, data: function (e, t) { var s, i, n = this; return 0 === arguments.length ? this.selection.children(".select3-search-choice").map(function () { return w(this).data("select3-data") }).get() : (i = this.data(), e = e || [], s = w.map(e, function (e) { return n.opts.id(e) }), this.setVal(s), this.updateSelection(e), this.clearSearch(), void (t && this.triggerChange(this.buildChangeDetails(i, this.data())))) } }), w.fn.select3 = function () { var e, t, s, i = Array.prototype.slice.call(arguments, 0), n = ["val", "destroy", "opened", "open", "close", "focus", "isFocused", "container", "dropdown", "onSortStart", "onSortEnd", "enable", "disable", "readonly", "positionDropdown", "data", "search"], o = ["opened", "isFocused", "container", "dropdown"], a = ["val", "data"], l = { search: "externalSearch" }; return this.each(function () { if (0 === i.length || "object" == typeof i[0]) (e = 0 === i.length ? {} : w.extend({}, i[0])).element = w(this), "select" === e.element.get(0).tagName.toLowerCase() ? s = e.element.prop("multiple") : (s = e.multiple || !1, "tags" in e && (e.multiple = s = !0)), (s = new (s ? window.select3.class.multi : window.select3.class.single)).init(e); else { if ("string" != typeof i[0]) throw "Invalid arguments to select3 plugin: " + i; if (c(i[0], n) < 0) throw "Unknown method: " + i[0]; if (t = v, (s = w(this).data("select3")) !== v) return e = i[0], t = "container" === e ? s.container : "dropdown" === e ? s.dropdown : (l[e] && (e = l[e]), s[e].apply(s, i.slice(1))), !(0 <= c(i[0], o) || 0 <= c(i[0], a) && 1 == i.length) && void 0 } }), t === v ? this : t }, w.fn.select3.defaults = { debug: !1, width: "copy", loadMorePadding: 0, closeOnSelect: !0, openOnEnter: !0, containerCss: {}, dropdownCss: {}, containerCssClass: "", dropdownCssClass: "", formatResult: function (e, t, s, i) { var n = []; return f(this.text(e), s.term, n, i), n.join("") }, transformVal: function (e) { return w.trim(e) }, formatSelection: function (e, t, s) { return e ? s(this.text(e)) : v }, sortResults: function (e, t, s) { return e }, formatResultCssClass: function (e) { return e.css }, formatSelectionCssClass: function (e, t) { return v }, minimumResultsForSearch: 0, minimumInputLength: 0, maximumInputLength: null, maximumSelectionSize: 0, id: function (e) { return e == v ? null : e.id }, text: function (e) { return e && this.data && this.data.text ? w.isFunction(this.data.text) ? this.data.text(e) : e[this.data.text] : e.text }, matcher: function (e, t) { return 0 <= o("" + t).toUpperCase().indexOf(o("" + e).toUpperCase()) }, separator: ",", tokenSeparators: [], tokenizer: function (e, t, s, i) { var n, o, a, l, c, r = e, h = !1; if (!i.createSearchChoice || !i.tokenSeparators || i.tokenSeparators.length < 1) return v; for (; ;) { for (o = -1, a = 0, l = i.tokenSeparators.length; a < l && (c = i.tokenSeparators[a], !(0 <= (o = e.indexOf(c)))); a++); if (o < 0) break; if (n = e.substring(0, o), e = e.substring(o + c.length), 0 < n.length && ((n = i.createSearchChoice.call(this, n, t)) !== v && null !== n && i.id(n) !== v && null !== i.id(n))) { for (h = !1, a = 0, l = t.length; a < l; a++)if (u(i.id(n), i.id(t[a]))) { h = !0; break } h || s(n) } } return r !== e ? e : void 0 }, escapeMarkup: e, blurOnChange: !1, selectOnBlur: !1, adaptContainerCssClass: function (e) { return e }, adaptDropdownCssClass: function (e) { return null }, nextSearchTerm: function (e, t) { return v }, searchInputPlaceholder: "", createSearchChoicePosition: "top", shouldFocusInput: function (e) { return !(("ontouchstart" in window || 0 < navigator.msMaxTouchPoints) && e.opts.minimumResultsForSearch < 0) } }, w.fn.select3.locales = [], w.fn.select3.locales.en = { formatMatches: function (e) { return 1 === e ? "One result is available, press enter to select it." : e + " results are available, use up and down arrow keys to navigate." }, formatNoMatches: function () { return "No matches found" }, formatAjaxError: function (e, t, s) { return "Loading failed" }, formatInputTooShort: function (e, t) { e = t - e.length; return "Please enter " + e + " or more character" + (1 == e ? "" : "s") }, formatInputTooLong: function (e, t) { t = e.length - t; return "Please delete " + t + " character" + (1 == t ? "" : "s") }, formatSelectionTooBig: function (e) { return "You can only select " + e + " item" + (1 == e ? "" : "s") }, formatLoadMore: function (e) { return "Loading more results…" }, formatSearching: function () { return "Searching…" } }, w.extend(w.fn.select3.defaults, w.fn.select3.locales.en), w.fn.select3.ajaxDefaults = { transport: w.ajax, params: { type: "GET", cache: !1, dataType: "json" } }, window.select3 = { query: { ajax: i, local: b, tags: C }, util: { debounce: h, markMatch: f, escapeMarkup: e, stripDiacritics: o }, class: { abstract: s, single: y, multi: x } }) }(jQuery);